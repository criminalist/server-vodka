<html>
    <head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Vodka - Fast and unfancy HTTP server framework for Go (Golang)">
<meta property="og:site_name" content="vodka">
<meta property="og:og:description" content="">
<title>
  Vodka - Fast and unfancy HTTP server framework for Go (Golang)
</title>
<link rel="stylesheet" href="styles/doc.css">
    </head>
<body>
	<nav class="navbar">
  <a href="#"><img class="logo" src="images/logo.png" alt="Vodka"></a>
  <a class="github-button" href="https://github.com/insionng/vodka" data-icon="octicon-star" data-style="mega" data-count-href="insionng/vodka/stargazers/index.html" data-count-api="/repos/insionng/vodka#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star insionng/vodka on GitHub">
    Star
  </a>
  <span class="w3-xxlarge w3-hide-large" onclick="openSidenav()">&#9776;</span>
</nav>

	<nav id="sidenav" class="w3-sidenav w3-collapse w3-animate-left">
  <span class="w3-closenav w3-xxlarge w3-hide-large" onclick="closeSidenav()">
    &times;
  </span>
  <a class="support w3-btn w3-white w3-border w3-border-theme w3-round-xlarge" href="https://github.com/vodka-contrib">
    vodka-contrib
  </a>


    <h4>> Guide</h4>

        <a href="guide/installation/index.html">
          Installation
        </a>


        <a href="guide/migrating/index.html">
          Migrating
        </a>


        <a href="guide/customization/index.html">
          Customization
        </a>


        <a href="guide/static-files/index.html">
          Static Files
        </a>


        <a href="guide/templates/index.html">
          Templates
        </a>


        <a href="guide/routing/index.html">
          Routing
        </a>


        <a href="guide/context/index.html">
          Context
        </a>


        <a href="guide/cookies/index.html">
          Cookies
        </a>


        <a href="guide/request/index.html">
          Request
        </a>


        <a href="guide/error-handling/index.html">
          Error Handling
        </a>


        <a href="guide/testing/index.html">
          Testing
        </a>


        <a href="guide/faq/index.html">
          FAQ
        </a>



    <h4>> Middleware</h4>

        <a href="middleware/overview/index.html">
          Overview
        </a>


        <a href="middleware/basic-auth/index.html">
          BasicAuth
        </a>


        <a href="middleware/body-limit/index.html">
          BodyLimit
        </a>


        <a href="middleware/cors/index.html">
          CORS
        </a>


        <a href="middleware/csrf/index.html">
          CSRF
        </a>


        <a href="middleware/gzip/index.html">
          Gzip
        </a>


        <a href="middleware/jwt/index.html">
          JWT
        </a>


        <a href="middleware/logger/index.html">
          Logger
        </a>


        <a href="middleware/method-override/index.html">
          MethodOverride
        </a>


        <a href="middleware/recover/index.html">
          Recover
        </a>


        <a href="middleware/redirect/index.html">
          Redirect
        </a>


        <a href="middleware/secure/index.html">
          Secure
        </a>


        <a href="middleware/static/index.html">
          Static
        </a>


        <a href="middleware/trailing-slash/index.html">
          TrailingSlash
        </a>



    <h4>> Recipes</h4>

        <a href="recipes/hello-world/index.html">
          Hello World
        </a>


        <a href="recipes/crud/index.html">
          CRUD
        </a>


        <a href="recipes/cors/index.html">
          CORS
        </a>


        <a href="recipes/http2/index.html">
          HTTP/2
        </a>


        <a href="recipes/middleware/index.html">
          Middleware
        </a>


        <a href="recipes/streaming-response/index.html">
          Streaming Response
        </a>


        <a href="recipes/websocket/index.html">
          WebSocket
        </a>


        <a href="recipes/jsonp/index.html">
          JSONP
        </a>


        <a href="recipes/file-upload/index.html">
          File Upload
        </a>


        <a href="recipes/subdomains/index.html">
          Subdomains
        </a>


        <a href="recipes/jwt/index.html">
          JWT
        </a>


        <a href="recipes/google-app-engine/index.html">
          Google App Engine
        </a>


        <a href="recipes/graceful-shutdown/index.html">
          Graceful Shutdown
        </a>


        <a href="recipes/embed-resources/index.html">
          Embed Resources
        </a>



    <h4>> Godoc</h4>

        <a href="https://godoc.org/github.com/insionng/vodka">
          vodka
        </a>


        <a href="https://godoc.org/github.com/insionng/vodka/middleware">
          middleware
        </a>


        <a href="https://godoc.org/github.com/insionng/vodka/engine">
          engine
        </a>


        <a href="https://godoc.org/github.com/insionng/vodka/engine/standard">
          engine/standard
        </a>


        <a href="https://godoc.org/github.com/insionng/vodka/engine/fasthttp">
          engine/fasthttp
        </a>



</nav>

	<div id="search-menu"></div>

	<div class="w3-main w3-padding-128">
		<div class="ad">
  <script async type="text/javascript" src="https://cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vodkainsionngcom" id="_carbonads_js"></script>
</div>


	  <div class="w3-row-padding">
			<div class="w3-col m9 l9">
				<div class="w3-panel w3-red notice">
  <h3>
    Vodka 正在继续走同时支持标准HTTP与FASTHTTP结合的不归路(掩嘴而笑),如果在使用这个版本的时候发现神马BUG或者有什么建议的话,请提交ISSUE给我!
  </h3>
</div>




<h1 id="fast-and-unfancy-http-server-framework-for-go-golang">Fast and unfancy HTTP server framework for Go (Golang).</h1>

<h2 id="feature-overview">Feature Overview</h2>

<ul>
<li>Optimized HTTP router which smartly prioritize routes</li>
<li>Build robust and scalable RESTful APIs</li>
<li>Run with standard HTTP server or FastHTTP server</li>
<li>Group APIs</li>
<li>Extensible middleware framework</li>
<li>Define middleware at root, group or route level</li>
<li>Data binding for JSON, XML and form payload</li>
<li>Handy functions to send variety of HTTP responses</li>
<li>Centralized HTTP error handling</li>
<li>Template rendering with any template engine</li>
<li>Define your format for the logger</li>
<li>Highly customizable</li>
</ul>

<h2 id="performance">Performance</h2>

<ul>
<li>Environment:

<ul>
<li>Go 1.6</li>
<li>wrk 4.0.0</li>
<li>2 GB, 2 Core (DigitalOcean)</li>
</ul></li>
<li>Test Suite: <a href="https://github.com/vishr/web-framework-benchmark">https://github.com/vishr/web-framework-benchmark</a></li>
<li>Date: 4/4/2016</li>
</ul>

<p><img style="width: 100%;" src="https://i.imgur.com/fZVnK52.png" alt="Performance"></p>

<h2 id="quick-start">Quick Start</h2>

<h3 id="installation">Installation</h3>

<pre><code class="language-sh">$ go get -u github.com/insionng/vodka
</code></pre>

<h3 id="hello-world">Hello, World!</h3>

<p>Create <code>server.go</code></p>

<pre><code class="language-go">package main

import (
	&quot;net/http&quot;
	&quot;github.com/insionng/vodka&quot;
	&quot;github.com/insionng/vodka/engine/standard&quot;
)

func main() {
	e := vodka.New()
	e.GET(&quot;/&quot;, func(c vodka.Context) error {
		return c.String(http.StatusOK, &quot;Hello, World!&quot;)
	})
	e.Run(standard.New(&quot;:1323&quot;))
}
</code></pre>

<p>Start server</p>

<pre><code class="language-sh">$ go run server.go
</code></pre>

<p>Browse to <a href="http://localhost:1323">http://localhost:1323</a> and you should see
Hello, World! on the page.</p>

<h3 id="routing">Routing</h3>

<pre><code class="language-go">e.POST(&quot;/users&quot;, saveUser)
e.GET(&quot;/users/:id&quot;, getUser)
e.PUT(&quot;/users/:id&quot;, updateUser)
e.DELETE(&quot;/users/:id&quot;, deleteUser)
</code></pre>

<h3 id="path-parameters">Path Parameters</h3>

<pre><code class="language-go">func getUser(c vodka.Context) error {
	// User ID from path `users/:id`
	id := c.Param(&quot;id&quot;)
}
</code></pre>

<h3 id="query-parameters">Query Parameters</h3>

<p><code>/show?team=x-men&amp;member=wolverine</code></p>

<pre><code class="language-go">func show(c vodka.Context) error {
	// Get team and member from the query string
	team := c.QueryParam(&quot;team&quot;)
	member := c.QueryParam(&quot;member&quot;)
}
</code></pre>

<h3 id="form-application-x-www-form-urlencoded">Form <code>application/x-www-form-urlencoded</code></h3>

<p><code>POST</code> <code>/save</code></p>

<table>
<thead>
<tr>
<th align="left">name</th>
<th align="left">value</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">name</td>
<td align="left">Joe Smith</td>
</tr>

<tr>
<td align="left">email</td>
<td align="left"><a class="__cf_email__" href="cdn-cgi/l/email-protection/index.html" data-cfemail="f49e9b91b4989596878095979fda979b99">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></td>
</tr>
</tbody>
</table>

<pre><code class="language-go">func save(c vodka.Context) error {
	// Get name and email
	name := c.FormValue(&quot;name&quot;)
	email := c.FormValue(&quot;email&quot;)
}
</code></pre>

<h3 id="form-multipart-form-data">Form <code>multipart/form-data</code></h3>

<p><code>POST</code> <code>/save</code></p>

<table>
<thead>
<tr>
<th align="left">name</th>
<th align="left">value</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">name</td>
<td align="left">Joe Smith</td>
</tr>

<tr>
<td align="left">email</td>
<td align="left"><a class="__cf_email__" href="cdn-cgi/l/email-protection/index.html" data-cfemail="7a10151f3a161b18090e1b191154191517">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></td>
</tr>

<tr>
<td align="left">avatar</td>
<td align="left">avatar</td>
</tr>
</tbody>
</table>

<pre><code class="language-go">func save(c vodka.Context) error {
	// Get name and email
	name := c.FormValue(&quot;name&quot;)
	email := c.FormValue(&quot;email&quot;)
	// Get avatar
	avatar, err := c.FormFile(&quot;avatar&quot;)
	if err != nil {
		return err
	}

	// Source
	src, err := avatar.Open()
	if err != nil {
		return err
	}
	defer src.Close()

	// Destination
	dst, err := os.Create(avatar.Filename)
	if err != nil {
		return err
	}
	defer dst.Close()

	// Copy
	if _, err = io.Copy(dst, src); err != nil {
		return err
	}

	return c.HTML(http.StatusOK, &quot;&lt;b&gt;Thank you!&lt;/b&gt;&quot;)
}
</code></pre>

<h3 id="handling-request">Handling Request</h3>

<ul>
<li>Bind <code>JSON</code> or <code>XML</code> or <code>form</code> payload into Go struct based on <code>Content-Type</code> request header.</li>
<li>Render response as <code>JSON</code> or <code>XML</code> with status code.</li>
</ul>

<pre><code class="language-go">type User struct {
	Name  string `json:&quot;name&quot; xml:&quot;name&quot; form:&quot;name&quot;`
	Email string `json:&quot;email&quot; xml:&quot;email&quot; form:&quot;email&quot;`
}

e.POST(&quot;/users&quot;, func(c vodka.Context) error {
	u := new(User)
	if err := c.Bind(u); err != nil {
		return err
	}
	return c.JSON(http.StatusCreated, u)
	// or
	// return c.XML(http.StatusCreated, u)
})
</code></pre>

<h3 id="static-content">Static Content</h3>

<p>Server any file from static directory for path <code>/static/*</code>.</p>

<pre><code class="language-go">e.Static(&quot;/static&quot;, &quot;static&quot;)
</code></pre>

<h5 id="learn-more-https-vodka-insionng-com-guide-static-files"><a href="guide/static-files/index.html">Learn More</a></h5>

<h3 id="template-rendering-https-vodka-insionng-com-guide-templates"><a href="guide/templates/index.html">Template Rendering</a></h3>

<h3 id="middleware">Middleware</h3>

<pre><code class="language-go">// Root level middleware
e.Use(middleware.Logger())
e.Use(middleware.Recover())

// Group level middleware
g := e.Group(&quot;/admin&quot;)
g.Use(middleware.BasicAuth(func(username, password string) bool {
	if username == &quot;joe&quot; &amp;&amp; password == &quot;secret&quot; {
		return true
	}
	return false
}))

// Route level middleware
track := func(next vodka.HandlerFunc) vodka.HandlerFunc {
	return func(c vodka.Context) error {
		println(&quot;request to /users&quot;)
		return next(c)
	}
}
e.GET(&quot;/users&quot;, func(c vodka.Context) error {
	return c.String(http.StatusOK, &quot;/users&quot;)
}, track)
</code></pre>

<h4 id="built-in-middleware">Built-in Middleware</h4>

<table>
<thead>
<tr>
<th align="left">Middleware</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="middleware/body-limit/index.html">BodyLimit</a></td>
<td align="left">Limit request body</td>
</tr>

<tr>
<td align="left"><a href="middleware/logger/index.html">Logger</a></td>
<td align="left">Log HTTP requests</td>
</tr>

<tr>
<td align="left"><a href="middleware/recover/index.html">Recover</a></td>
<td align="left">Recover from panics</td>
</tr>

<tr>
<td align="left"><a href="middleware/gzip/index.html">Gzip</a></td>
<td align="left">Send gzip HTTP response</td>
</tr>

<tr>
<td align="left"><a href="middleware/basic-auth/index.html">BasicAuth</a></td>
<td align="left">HTTP basic authentication</td>
</tr>

<tr>
<td align="left"><a href="middleware/jwt/index.html">JWTAuth</a></td>
<td align="left">JWT authentication</td>
</tr>

<tr>
<td align="left"><a href="middleware/secure/index.html">Secure</a></td>
<td align="left">Protection against attacks</td>
</tr>

<tr>
<td align="left"><a href="middleware/cors/index.html">CORS</a></td>
<td align="left">Cross-Origin Resource Sharing</td>
</tr>

<tr>
<td align="left"><a href="middleware/csrf/index.html">CSRF</a></td>
<td align="left">Cross-Site Request Forgery</td>
</tr>

<tr>
<td align="left"><a href="middleware/static/index.html">Static</a></td>
<td align="left">Serve static files</td>
</tr>

<tr>
<td align="left"><a href="middleware/redirect/index.html#httpsredirect-middleware">HTTPSRedirect</a></td>
<td align="left">Redirect HTTP requests to HTTPS</td>
</tr>

<tr>
<td align="left"><a href="middleware/redirect/index.html#httpswwwredirect-middleware">HTTPSWWWRedirect</a></td>
<td align="left">Redirect HTTP requests to WWW HTTPS</td>
</tr>

<tr>
<td align="left"><a href="middleware/redirect/index.html#wwwredirect-middleware">WWWRedirect</a></td>
<td align="left">Redirect non WWW requests to WWW</td>
</tr>

<tr>
<td align="left"><a href="middleware/redirect/index.html#nonwwwredirect-middleware">NonWWWRedirect</a></td>
<td align="left">Redirect WWW requests to non WWW</td>
</tr>

<tr>
<td align="left"><a href="middleware/trailing-slash/index.html#addtrailingslash-middleware">AddTrailingSlash</a></td>
<td align="left">Add trailing slash to the request URI</td>
</tr>

<tr>
<td align="left"><a href="middleware/trailing-slash/index.html#removetrailingslash-middleware">RemoveTrailingSlash</a></td>
<td align="left">Remove trailing slash from the request URI</td>
</tr>

<tr>
<td align="left"><a href="middleware/method-override/index.html">MethodOverride</a></td>
<td align="left">Override request method</td>
</tr>
</tbody>
</table>

<h4 id="third-party-middleware">Third-party Middleware</h4>

<table>
<thead>
<tr>
<th align="left">Middleware</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="https://github.com/xyproto/vodkaperm">vodkaperm</a></td>
<td align="left">Keeping track of users, login states and permissions.</td>
</tr>

<tr>
<td align="left"><a href="https://github.com/mtojek/vodkapprof">vodkapprof</a></td>
<td align="left">Adapt net/http/pprof to insionng/vodka.</td>
</tr>
</tbody>
</table>

<h5 id="learn-more-https-vodka-insionng-com-middleware-overview"><a href="middleware/overview/index.html">Learn More</a></h5>

<h3 id="next">Next</h3>

<ul>
<li>Head over to <a href="guide/installation/index.html">guide</a></li>
<li>Browse <a href="recipes/hello-world/index.html">recipes</a></li>
</ul>

<h3 id="need-help">Need help?</h3>

<ul>
<li><a href="https://gitter.im/insionng/vodka">Hop on to chat</a></li>
<li><a href="https://github.com/insionng/vodka/issues/new">Open an issue</a></li>
</ul>

<h2 id="support-vodka">Support Vodka</h2>

<ul>
<li>☆ the project</li>
<li><a href="support-vodka/index.html">Donate</a></li>
<li>🌐 spread the word</li>
<li><a href="#contribute:d680e8a854a7cbad6d490c445cba2eba">Contribute</a> to the project</li>
</ul>

<h2 id="contribute">Contribute</h2>

<p><strong>Use issues for everything</strong></p>

<ul>
<li>Report issues</li>
<li>Discuss on chat before sending a pull request</li>
<li>Suggest new features or enhancements</li>
<li>Improve/fix documentation</li>
</ul>

<h2 id="credits">Credits</h2>

<ul>
<li><a href="https://github.com/vishr">Vishal Rana</a> - Author</li>
<li><a href="https://github.com/nr17">Nitin Rana</a> - Consultant</li>
<li><a href="https://github.com/insionng/vodka/graphs/contributors">Contributors</a></li>
</ul>

<h2 id="license">License</h2>

<p><a href="https://github.com/insionng/vodka/blob/master/LICENSE">MIT</a></p>
			</div>
	  </div>
	</div>
	<footer class="w3-container w3-padding-48 w3-center footer">
  <p>
    <strong><a href="https://github.com/insionng/vodka">Vodka</a></strong> © 2016 <a href="https://github.com/insionng">InsionNg</a>. All Rights Reserved.
  </p>
</footer>

<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script src="scripts/prism.js"></script>
<script src="scripts/vodka.js"></script>

</body>
</html>
